<!doctype html>
<html>

<head>
	<title>S.H.M</title>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
	<script>
			$(document).ready(function(){
			var canvas=$('#myCanvas');
			var context=canvas.get(0).getContext("2d");
			var width=canvas.width();
			var height=canvas.height();
			context.fillStyle="rgb(250,250,205)";
			context.strokeStyle="rgb(100,200,150)";
			
			context.fillRect(0,0,width,height);
			
			context.save();
			
			context.beginPath();
			context.lineWidth=2;
			context.arc(300,300,150,Math.PI*2,false);
			context.closePath();
			context.stroke();
			
			context.lineWidth=1.5;
			context.beginPath();
			context.moveTo(150,300);
			context.lineTo(450,300);
			context.closePath();
			context.stroke();
			
			
			context.fillStyle="rgb(100,100,100)";
			context.beginPath();
			context.arc(450,300,12,Math.PI*2,false);
			context.closePath();
			context.fill();
			
			context.fillStyle="rgb(100,200,100)";
			context.beginPath();
			context.arc(450,300,12,Math.PI*2,false);
			context.closePath();
			context.fill();
			
			
			var r=150;
			var x1=450;
			var angle=0;
			var playAnimation = true;
			var start=$('#startAnimation');
			var stop=$('#stopAnimation');
			
			stop.hide();
			start.click(function(){
				start.hide();
				stop.show();
				playAnimation=true;
				context.save();
				animate();
			});
			stop.click(function(){
				stop.hide();
				start.show();
				playAnimation=false;
			});
			function animate(){
			angle=angle+1;
			context.clearRect(0, 0, width, height);
			context.fillStyle="rgb(250,250,205)";
			context.strokeStyle="rgb(100,200,150)";
			context.fillRect(0,0,width,height);
			context.beginPath();
			context.lineWidth=2;
			context.arc(300,300,150,Math.PI*2,false);
			context.closePath();
			context.stroke();
			context.lineWidth=1.5;
			context.beginPath();
			context.moveTo(150,300);
			context.lineTo(450,300);
			context.closePath();
			context.stroke();
			
			
			var x= 2*r+r*Math.cos(angle*(Math.PI/180));
			var y= 2*r+r*Math.sin(angle*(Math.PI/180));
			if(x1>=0){
			x1=x1-8.333;}
			else{
			x1=x1+8.333;
			}
			context.fillStyle="rgb(100,200,100)";
			context.beginPath();
			context.arc(x,300,12,Math.PI*2,false);
			context.closePath();
			context.fill();
			
			context.fillStyle="rgb(100,200,150)";
			context.beginPath();
			context.arc(x,y,12,Math.PI*2,false);
			context.closePath();
			context.fill();
			
			
			
			if(playAnimation){
					setTimeout(animate,33);
				};
			};
			});
		</script>
</head>
<body>
	<button id="startAnimation">Start</button>
	<button id="stopAnimation">Stop</button>
	<canvas id="myCanvas" width="600" height="600"></canvas>
</body>

</html>